<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <!--<script type="text/javascript" src="highstock/jquery-1.9.1.js" charset="UTF-8"></script>-->
    <script type="text/javascript" src="../libs/jquery-1.9.1.min.js" charset="UTF-8"></script>
    <script type="text/javascript" src="highstock/highstock.js" charset="UTF-8"></script>
    <script language="JavaScript" src="define.js"></script>
    <script language="JavaScript" src="app-all.js"></script>


    <script language="javascript">

        $(document).ready(function(){
            if (chart) {
                // alert('chart.yAxis[0]') ;
                chart.yAxis[0].setTitle({
                    text : '',
                    margin : 0
                }) ;

                // 设置 Tooltip 的样式
                // 禁用 Tooltip 时，直接返回 false;
                var tooltipOptions = chart.tooltip.options;
                tooltipOptions.formatter = function () {
                    return this.y.toFixed(0) ;
                };

            }

            $(window).on('popstate', function() {
                console.log('Chart Page Back button was pressed.');
            });

            $(window).on('hashchange', function() {
                console.log('Chart hashchange.');
            });

        });


        buildParam(window.location.search) ;

        var interval = parseInt( parames['interval'] ) ;

        var autoUpdate = function() {

            var barCount = parames['barCount'] || null ;

            getHisData(parames['symbolCode'],parames['period'],barCount,function(mapData){
                testDraw(mapData) ;
            });

            if (interval>0) {
                // console.log(interval) ;
                setTimeout(autoUpdate,interval * 1000 ) ;
            }

        };

        autoUpdate() ;

    </script>

</head>
<body style="margin:0px; width: 100% ; height: 100%">

<div id="container" style="width: 100% ; height: 100%; margin: 0px; background:#000000; border: 0px solid #000000"></div>

</body>
</html>
